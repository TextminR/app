tdm <- TermDocumentMatrix(corpus, control = list(wordLengths=c(3,Inf))): Hier wird eine Term-Dokument-Matrix (TDM) aus dem Corpus erstellt. Eine TDM ist eine Matrix, die die Häufigkeit von Wörtern in Dokumenten darstellt. Die Zeilen der Matrix entsprechen den Wörtern, die Spalten den Dokumenten und die Einträge der Matrix der Häufigkeit des jeweiligen Worts im jeweiligen Dokument. Die TermDocumentMatrix-Funktion im tm-Paket erzeugt diese Matrix aus dem bereinigten Corpus-Objekt. In diesem Fall wird eine optionale Steuerungsliste (control) verwendet, um Wörter mit einer Länge von weniger als 3 Buchstaben zu entfernen.

m <- as.matrix(tdm): Hier wird die TDM in eine reguläre Matrix umgewandelt, damit sie für die weitere Analyse verwendet werden kann.

word_pairs <- colnames(m)[sapply(gregexpr("\\s\\w+", colnames(m)), [, 1) != -1]: Hier wird eine Liste von Wortpaaren erstellt, indem nach Paaren von Wörtern gesucht wird, die direkt nebeneinander im Text auftreten. Dazu wird die Funktion gregexpr verwendet, die eine reguläre Ausdruckssuche auf die Spaltennamen der Matrix ausführt. Der reguläre Ausdruck sucht nach Leerzeichen gefolgt von einem Wort, um Wörterpaare zu finden, die direkt nebeneinander im Text stehen. Die sapply-Funktion wird verwendet, um über alle Spaltennamen der Matrix zu iterieren und den regulären Ausdruck darauf anzuwenden. Das Ergebnis ist ein boolescher Vektor, der angibt, ob der reguläre Ausdruck auf jeden Spaltennamen angewendet werden konnte oder nicht. Das [-Operator wird dann verwendet, um nur die Spaltennamen zu extrahieren, bei denen der reguläre Ausdruck mindestens einmal gefunden wurde (dh. wenn der Wert von gregexpr größer als -1 ist).

word_pair_counts <- sapply(word_pairs, function(x) sum(m[, grepl(x, colnames(m))])): Hier wird die Anzahl der Vorkommen jedes Wortpaars in der Matrix gezählt, indem über alle Wortpaare in der word_pairs-Liste iteriert wird. Die grepl-Funktion wird verwendet, um alle Spaltennamen in der Matrix zu finden, die das betreffende Wortpaar enthalten. Die sum-Funktion wird dann verwendet, um die Häufigkeit des Wortpaars in der Matrix zu berechnen, indem alle Einträge in den Spalten addiert werden, die das Wortpaar enthalten.

word_pair_df <- data.frame(word_pairs, word_pair_counts): Hier wird das Ergebnis als Datenrahmen (data.frame) gespeichert, der die Wortpaare und ihre Häufigkeit enthält. Dieser Datenrahmen kann dann zur Erstellung eines Netzwerkdiagramms verwendet werden, um die Wahrscheinlichkeit zu visualisieren, mit der verschiedene Wortpaare nebeneinander im Text vorkommen.